import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { BADGE } from '@geometricpanda/storybook-addon-badges';
import { within, userEvent } from '@storybook/testing-library';
import { expect } from '@storybook/jest';
import { createColumnHelper } from '@tanstack/react-table';
import { Table, Space } from '@zero-ui/core';

<Meta title="Components/Content/Table" component={[Table]} argTypes={{}} />

export const TableStory = (args) => <Table {...args} />;

# Table

> WIP

## Example Usage

```jsx
import { Table } from '@zero-ui/core';
```

export const dataSource = [
  {
    firstName: 'tanner',
    lastName: 'linsley',
    age: 24,
    visits: 100,
    status: 'In Relationship',
    progress: 50,
  },
  {
    firstName: 'tandy',
    lastName: 'miller',
    age: 40,
    visits: 40,
    status: 'Single',
    progress: 80,
  },
  {
    firstName: 'joe',
    lastName: 'dirte',
    age: 45,
    visits: 20,
    status: 'Complicated',
    progress: 10,
  },
];

export const columnHelper = createColumnHelper();

export const columns = [
  columnHelper.accessor('firstName', {
    cell: (info) => info.getValue(),
    header: () => <span>First Name</span>,
    footer: (info) => info.column.id,
  }),
  columnHelper.accessor((row) => row.lastName, {
    id: 'lastName',
    cell: (info) => <i>{info.getValue()}</i>,
    header: () => <span>Last Name</span>,
  }),
  columnHelper.accessor('age', {
    header: () => 'Age',
    cell: (info) => info.renderValue(),
  }),
  columnHelper.accessor('visits', {
    header: () => <span>Visits</span>,
  }),
  columnHelper.accessor('status', {
    header: 'Status',
  }),
  columnHelper.accessor('progress', {
    header: 'Profile Progress',
  }),
  columnHelper.display({
    id: 'actions',
    header: 'Actions',
    cell: (info) => (
      <Space gap={16}>
        <a href="#">edit</a>
        <a href="#">more</a>
      </Space>
    ),
  }),
];

<Canvas columns={2} withSource="close">
  <Story name="Table" args={{ dataSource: dataSource, columns: columns }}>
    {TableStory.bind()}
  </Story>
</Canvas>

<ArgsTable of={Table} />
