import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { DropdownMenu, Grid } from '@zero-ui/core';
import {
  RightOutlined,
  CheckOutlined,
  BarsOutlined,
  UserOutlined,
  SettingOutlined,
} from '@ant-design/icons';
import { useState } from 'react';

<Meta
  title="Components/Menus/DropdownMenu"
  component={[DropdownMenu]}
  argTypes={{}}
/>

# DropdownMenu

Used to display menu to the users. Build on top of [Radix UI Dropdown Menu](https://www.radix-ui.com/docs/primitives/components/dropdown-menu). You can check API documentation for this component in [Radix UI Primitives Web Documentations](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#api-reference)

# Structures

DropdownMenu is built from several separate components, which can be customized and extended further. Here are the components that can be used to build a DropdownMenu:

## `<DropdownMenu.Trigger />`

This component is used to trigger or display the `<DropdownMenu />`. `<DropdownMenu.Trigger />` has the same props as the `<Button />` component in Zero UI.

| Name          | Type                                              | Default | Description                                                |
| ------------- | ------------------------------------------------- | ------- | ---------------------------------------------------------- |
| `colorScheme` | string                                            | -       | Specify button color scheme based on theme                 |
| `css`         | object                                            | -       | Customize button style with magic of stitches              |
| `disabled`    | boolean                                           | false   | If `true` the trigger button will be disabled              |
| `ghost`       | boolean                                           | false   | If set to `true` the trigger button will have ghost styles |
| `intent`      | default \| primary \| secondary \| danger         | default | Set the trigger button intent variant                      |
| `variant`     | default \| outlined \| dashed \| circle \| square | default | Set the trigger button variant                             |

## `<DropdownMenu.Portal />`

This component is used to portal content to a specific HTML element.
[API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#portal)

## `<DropdownMenu.Content />`

The component that contains all of the DropdownMenu contents and pops out when the dropdown open.
[API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#content)

## `<DropdownMenu.Arrow />`

The arrow component that can be used to render arrow alongside the dropdown menu. Can be used to visually link the trigger with the content. [API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#arrow)

## `<DropdownMenu.Item />`

Used to render item component inside dropdown menu content. [API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#item)

## `<DropdownMenu.LeftSlot />`

Used to render left addon on dropdown menu item. Usually used to render icon component.

## `<DropdownMenu.RightSlot />`

Used to render right addon on dropdown menu item. Usually used to render icon component.

## `<DropdownMenu.Group />`

Component that can be used to group the dropdown menu item. [API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#group)

## `<DropdownMenu.Label />`

Usually used to render section label. [API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#label)

## `<DropdownMenu.CheckboxItem />`

An dropdown menu item that can be controlled like a checkbox. [API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#checkboxitem)

## `<DropdownMenu.RadioGroup />`

Used to group multiple `<DropdownMenu.RadioItem />`. [API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#radiogroup)

## `<DropdownMenu.RadioItem />`

An dropdown menu item that can be controlled like a radio. [API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#radioitem)

## `<DropdownMenu.ItemIndicator />`

Will be render when the parent `<DropdownMenu.CheckboxItem />` or `<DropdownMenu.RadioItem />` checked. [API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#itemindicator)

## `<DropdownMenu.Separator />`

Will be render separator to separate dropdown menu item. [API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#separator)

## `<DropdownMenu.Sub />`

Component that wrap all of the dropdown menu sub content. [API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#sub)

## `<DropdownMenu.SubTrigger />`

Used to toggle dropdown menu sub content. [API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#subtrigger)

## `<DropdownMenu.SubContent />`

Component that will be render when `<DropdownMenu.SubTrigger />` clicked. [API Reference](https://www.radix-ui.com/docs/primitives/components/dropdown-menu#subcontent)

## Example Usage

### Basic

```tsx
import { DropdownMenu } from '@zero-ui/core';

const [isShowBarChecked, setIsShowBarChecked] = useState(true);
const [isShowHeader, setIsShowHeader] = useState(true);
const [sidebarOption, setSidebarOption] = useState('open');

return (
  <DropdownMenu>
    <DropdownMenu.Trigger size="md">Trigger Dropdown</DropdownMenu.Trigger>
    <DropdownMenu.Portal>
      <DropdownMenu.Content>
        <DropdownMenu.Item>Item</DropdownMenu.Item>
        <DropdownMenu.Separator />
        <DropdownMenu.CheckboxItem
          checked={isShowBarChecked}
          onCheckedChange={setIsShowBarChecked}
        >
          <DropdownMenu.ItemIndicator>
            <CheckOutlined />
          </DropdownMenu.ItemIndicator>
          <DropdownMenu.LeftSlot>
            <BarsOutlined />
          </DropdownMenu.LeftSlot> Show Bar
        </DropdownMenu.CheckboxItem>
        <DropdownMenu.CheckboxItem
          checked={isShowHeader}
          onCheckedChange={setIsShowHeader}
        >
          <DropdownMenu.ItemIndicator>
            <CheckOutlined />
          </DropdownMenu.ItemIndicator>
          Show Header
        </DropdownMenu.CheckboxItem>
        <DropdownMenu.Separator />
        <DropdownMenu.Label>Sidebar Options</DropdownMenu.Label>
        <DropdownMenu.RadioGroup
          value={sidebarOption}
          onValueChange={setSidebarOption}
        >
          <DropdownMenu.RadioItem value="open">
            <DropdownMenu.ItemIndicator>&bull;</DropdownMenu.ItemIndicator>
            Open
          </DropdownMenu.RadioItem>
          <DropdownMenu.RadioItem value="closed">
            <DropdownMenu.ItemIndicator>&bull;</DropdownMenu.ItemIndicator>
            Closed
          </DropdownMenu.RadioItem>
        </DropdownMenu.RadioGroup>
        <DropdownMenu.Arrow />
      </DropdownMenu.Content>
    </DropdownMenu.Portal>
  </DropdownMenu>
);
```

### With Submenu

```tsx
import { DropdownMenu } from '@zero-ui/core';

const [isShowBarChecked, setIsShowBarChecked] = useState(false);
const [isShowHeader, setIsShowHeader] = useState(false);
const [sidebarOption, setSidebarOption] = useState('open');

return (
  <DropdownMenu>
    <DropdownMenu.Trigger size="md">
      Trigger Sub Group Dropdown
    </DropdownMenu.Trigger>
    <DropdownMenu.Portal>
      <DropdownMenu.Content>
        <DropdownMenu.Item>Item</DropdownMenu.Item>
        <DropdownMenu.Separator />
        <DropdownMenu.CheckboxItem
          checked={isShowBarChecked}
          onCheckedChange={setIsShowBarChecked}
        >
          <DropdownMenu.ItemIndicator>
            <CheckOutlined />
          </DropdownMenu.ItemIndicator>
          <DropdownMenu.LeftSlot>
            <BarsOutlined />
          </DropdownMenu.LeftSlot> Show Bar
        </DropdownMenu.CheckboxItem>
        <DropdownMenu.CheckboxItem
          checked={isShowHeader}
          onCheckedChange={setIsShowHeader}
        >
          <DropdownMenu.ItemIndicator>
            <CheckOutlined />
          </DropdownMenu.ItemIndicator>
          Show Header
        </DropdownMenu.CheckboxItem>
        <DropdownMenu.Separator />
        <DropdownMenu.Label>Sidebar Options</DropdownMenu.Label>
        <DropdownMenu.RadioGroup
          value={sidebarOption}
          onValueChange={setSidebarOption}
        >
          <DropdownMenu.RadioItem value="open">
            <DropdownMenu.ItemIndicator>&bull;</DropdownMenu.ItemIndicator>
            Open
          </DropdownMenu.RadioItem>
          <DropdownMenu.RadioItem value="closed">
            <DropdownMenu.ItemIndicator>&bull;</DropdownMenu.ItemIndicator>
            Closed
          </DropdownMenu.RadioItem>
        </DropdownMenu.RadioGroup>
        <DropdownMenu.Sub>
          <DropdownMenu.SubTrigger>Advanced Options</DropdownMenu.SubTrigger>
          <DropdownMenu.Portal>
            <DropdownMenu.SubContent sideOffset={5}>
              <DropdownMenu.Item>Item</DropdownMenu.Item>
              <DropdownMenu.Item>
                <DropdownMenu.LeftSlot>
                  <UserOutlined />
                </DropdownMenu.LeftSlot>{' '}
                Profile
              </DropdownMenu.Item>
              <DropdownMenu.Item>
                <DropdownMenu.LeftSlot>
                  <SettingOutlined />
                </DropdownMenu.LeftSlot>{' '}
                Settings
              </DropdownMenu.Item>
            </DropdownMenu.SubContent>
          </DropdownMenu.Portal>
        </DropdownMenu.Sub>
        <DropdownMenu.Arrow />
      </DropdownMenu.Content>
    </DropdownMenu.Portal>
  </DropdownMenu>
);
```

<Canvas columns={2} withSource="close">
  <Story name="Basic">
    {() => {
      const [isShowBarChecked, setIsShowBarChecked] = useState(false);
      const [isShowHeader, setIsShowHeader] = useState(false);
      const [sidebarOption, setSidebarOption] = useState('open');
      return (
        <DropdownMenu>
          <DropdownMenu.Trigger size="md">
            Trigger Dropdown
          </DropdownMenu.Trigger>
          <DropdownMenu.Portal>
            <DropdownMenu.Content>
              <DropdownMenu.Item>Item</DropdownMenu.Item>
              <DropdownMenu.Separator />
              <DropdownMenu.CheckboxItem
                checked={isShowBarChecked}
                onCheckedChange={setIsShowBarChecked}
              >
                <DropdownMenu.ItemIndicator>
                  <CheckOutlined />
                </DropdownMenu.ItemIndicator>
                <DropdownMenu.LeftSlot>
                  <BarsOutlined />
                </DropdownMenu.LeftSlot> Show Bar
              </DropdownMenu.CheckboxItem>
              <DropdownMenu.CheckboxItem
                checked={isShowHeader}
                onCheckedChange={setIsShowHeader}
              >
                <DropdownMenu.ItemIndicator>
                  <CheckOutlined />
                </DropdownMenu.ItemIndicator>
                Show Header
              </DropdownMenu.CheckboxItem>
              <DropdownMenu.Separator />
              <DropdownMenu.Label>Sidebar Options</DropdownMenu.Label>
              <DropdownMenu.RadioGroup
                value={sidebarOption}
                onValueChange={setSidebarOption}
              >
                <DropdownMenu.RadioItem value="open">
                  <DropdownMenu.ItemIndicator>
                    &bull;
                  </DropdownMenu.ItemIndicator>
                  Open
                </DropdownMenu.RadioItem>
                <DropdownMenu.RadioItem value="closed">
                  <DropdownMenu.ItemIndicator>
                    &bull;
                  </DropdownMenu.ItemIndicator>
                  Closed
                </DropdownMenu.RadioItem>
              </DropdownMenu.RadioGroup>
              <DropdownMenu.Arrow />
            </DropdownMenu.Content>
          </DropdownMenu.Portal>
        </DropdownMenu>
      );
    }}
  </Story>
  <Story name="WithSubGroup">
    {() => {
      const [isShowBarChecked, setIsShowBarChecked] = useState(false);
      const [isShowHeader, setIsShowHeader] = useState(false);
      const [sidebarOption, setSidebarOption] = useState('open');
      return (
        <DropdownMenu>
          <DropdownMenu.Trigger size="md">
            Trigger Sub Group Dropdown
          </DropdownMenu.Trigger>
          <DropdownMenu.Portal>
            <DropdownMenu.Content>
              <DropdownMenu.Item>Item</DropdownMenu.Item>
              <DropdownMenu.Separator />
              <DropdownMenu.CheckboxItem
                checked={isShowBarChecked}
                onCheckedChange={setIsShowBarChecked}
              >
                <DropdownMenu.ItemIndicator>
                  <CheckOutlined />
                </DropdownMenu.ItemIndicator>
                <DropdownMenu.LeftSlot>
                  <BarsOutlined />
                </DropdownMenu.LeftSlot> Show Bar
              </DropdownMenu.CheckboxItem>
              <DropdownMenu.CheckboxItem
                checked={isShowHeader}
                onCheckedChange={setIsShowHeader}
              >
                <DropdownMenu.ItemIndicator>
                  <CheckOutlined />
                </DropdownMenu.ItemIndicator>
                Show Header
              </DropdownMenu.CheckboxItem>
              <DropdownMenu.Separator />
              <DropdownMenu.Label>Sidebar Options</DropdownMenu.Label>
              <DropdownMenu.RadioGroup
                value={sidebarOption}
                onValueChange={setSidebarOption}
              >
                <DropdownMenu.RadioItem value="open">
                  <DropdownMenu.ItemIndicator>
                    &bull;
                  </DropdownMenu.ItemIndicator>
                  Open
                </DropdownMenu.RadioItem>
                <DropdownMenu.RadioItem value="closed">
                  <DropdownMenu.ItemIndicator>
                    &bull;
                  </DropdownMenu.ItemIndicator>
                  Closed
                </DropdownMenu.RadioItem>
              </DropdownMenu.RadioGroup>
              <DropdownMenu.Sub>
                <DropdownMenu.SubTrigger>
                  Advanced Options
                </DropdownMenu.SubTrigger>
                <DropdownMenu.Portal>
                  <DropdownMenu.SubContent sideOffset={5}>
                    <DropdownMenu.Item>Item</DropdownMenu.Item>
                    <DropdownMenu.Item>
                      <DropdownMenu.LeftSlot>
                        <UserOutlined />
                      </DropdownMenu.LeftSlot>{' '}
                      Profile
                    </DropdownMenu.Item>
                    <DropdownMenu.Item>
                      <DropdownMenu.LeftSlot>
                        <SettingOutlined />
                      </DropdownMenu.LeftSlot>{' '}
                      Settings
                    </DropdownMenu.Item>
                  </DropdownMenu.SubContent>
                </DropdownMenu.Portal>
              </DropdownMenu.Sub>
              <DropdownMenu.Arrow />
            </DropdownMenu.Content>
          </DropdownMenu.Portal>
        </DropdownMenu>
      );
    }}
  </Story>
</Canvas>
